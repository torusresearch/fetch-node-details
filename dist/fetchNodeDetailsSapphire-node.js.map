{"version":3,"file":"fetchNodeDetailsSapphire-node.js","mappings":";;UAAA;UACA;;;;;WCDA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;ACoBO,IAAMA,aAAa,GAAG;EAC3BC,MAAM,EAAE,QAAQ;EAChBC,OAAO,EAAE,SAAS;EAClBC,OAAO,EAAE;AACX,CAAU;;AC9BV,MAAM,gCAA4B;;;ACAlC,MAAM,8BAA4B;;;ACAlC,MAAM,2BAA4B;;;ACAlC,MAAM,8BAA4B;;;ACAlC,MAAM,2BAA4B;;;ACAlC,MAAM,4BAA4B;;ACAlC,MAAM,8CAA4B;;;ACAlC,MAAM,iCAA4B;;;ACAlC,MAAM,mCAA4B;;;;ACAW;AAEtC,IAAMC,YAAY,gEACtBJ,oBAAoB,EAAG,CACtB,0CAA0C,EAC1C,0CAA0C,EAC1C,0CAA0C,EAC1C,0CAA0C,EAC1C,0CAA0C,CAC3C,2CACAA,qBAAqB,EAAG,CACvB,8BAA8B,EAC9B,8BAA8B,EAC9B,8BAA8B,EAC9B,8BAA8B,EAC9B,8BAA8B,CAC/B,iBACF;;ACjBiD;AAE3C,IAAMM,aAAa,GAAG,SAAhBA,aAAa,CAAOC,GAAQ,EAAEC,CAAS,EAAoB;EACtE,IAAMC,OAA+B,GAAG,CAAC,CAAC;EAC1C,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,GAAG,CAACI,MAAM,EAAED,CAAC,IAAI,CAAC,EAAE;IACtC,IAAME,GAAG,GAAGP,wCAAa,CAACE,GAAG,CAACG,CAAC,CAAC,CAAC;IACjCD,OAAO,CAACG,GAAG,CAAC,GAAGH,OAAO,CAACG,GAAG,CAAC,GAAGH,OAAO,CAACG,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC;IAClD,IAAIH,OAAO,CAACG,GAAG,CAAC,KAAKJ,CAAC,EAAE;MACtB,OAAOD,GAAG,CAACG,CAAC,CAAC;IACf;EACF;EACA,OAAOG,SAAS;AAClB,CAAC;;;;;;;ACZqE;AACpB;AACvB;AACQ;AAEQ;AAUrB;AACkB;AAAA,IAElCK,iBAAiB;EA2ErB,6BAA8E;IAAA,+EAAJ,CAAC,CAAC;MAAA,oBAA9DC,OAAO;MAAPA,OAAO,6BAAGnB,oBAAoB;IAAA;IAAA,0DAhBA,EAAE;IAAA,yDAEH,EAAE;IAAA,yDAEF,EAAE;IAAA,yDAEF,EAAE;IAAA,gDAET,EAAE;IAAA,gDAEJ,EAAE;IAAA;IAAA;IAOlC,IAAI,CAACmB,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACC,OAAO,GAAG,KAAK;EACtB;EAAC;IAAA;IAAA,KAED,eAAiC;MAC/B,OAAO;QACLC,sBAAsB,EAAE,IAAI,CAACC,uBAAuB;QACpDC,qBAAqB,EAAE,IAAI,CAACC,sBAAsB;QAClDC,qBAAqB,EAAE,IAAI,CAACC,sBAAsB;QAClDC,qBAAqB,EAAE,IAAI,CAACC,sBAAsB;QAClDC,YAAY,EAAE,IAAI,CAACC,aAAa;QAChCC,YAAY,EAAE,IAAI,CAACC,aAAa;QAChCZ,OAAO,EAAE,IAAI,CAACA;MAChB,CAAC;IACH;EAAC;IAAA;IAAA;MAAA,0FAED;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,KAEQ,IAAI,CAACA,OAAO;kBAAA;kBAAA;gBAAA;gBAAA,iCAAS,IAAI,CAACa,YAAY;cAAA;gBAEpCC,SAAS,GAAG9B,YAAY,CAAC,IAAI,CAACe,OAAO,CAAC;gBAEtCgB,cAAc,GAAGD,SAAS,CAACE,GAAG,CAAC,UAACC,CAAC;kBAAA,OACrCtB,qCAAI,CAAmCsB,CAAC,EAAEvB,sDAAqB,CAAC,oBAAoB,EAAE,CAAC,CAAC,CAAC,CAAC,CAACwB,KAAK,CAAC,UAACC,GAAG;oBAAA,OACnGvB,iCAAS,CAAC,4BAA4B,EAAEuB,GAAG,CAAC;kBAAA,EAC7C;gBAAA,EACF;gBAAA;gBAAA,OAE6BE,OAAO,CAACC,GAAG,CAAmCP,cAAc,CAAC;cAAA;gBAArFQ,eAAe;gBAEfC,aAAa,GAAGtC,aAAa,CACjCqC,eAAe,CAACP,GAAG,CAAC,UAACS,IAAI;kBAAA,OAAKxC,wCAAa,CAACwC,IAAI,CAACC,MAAM,CAAC;gBAAA,EAAC,EACzD,CAAC,EAAEZ,SAAS,CAACvB,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC,CAC7B;gBAAA,IAEIiC,aAAa;kBAAA;kBAAA;gBAAA;gBAAA,MACV,IAAIG,KAAK,CAAC,4CAA4C,CAAC;cAAA;gBAGzDC,WAAW,GAAGC,IAAI,CAACC,KAAK,CAACN,aAAa,IAAI,IAAI,CAAC;gBAAA,MAEjDI,WAAW,CAACrC,MAAM,KAAKuB,SAAS,CAACvB,MAAM;kBAAA;kBAAA;gBAAA;gBAAA,MACnC,IAAIoC,KAAK,8DAAuDb,SAAS,CAACvB,MAAM,sBAAYqC,WAAW,CAACrC,MAAM,EAAG;cAAA;gBAEnHwC,oBAA8B,GAAG,EAAE;gBACnCC,mBAA6B,GAAG,EAAE;gBAClCC,mBAA6B,GAAG,EAAE;gBAClCC,mBAA6B,GAAG,EAAE;gBAClCC,cAA0B,GAAG,EAAE;gBAC/BC,OAAiB,GAAG,EAAE,EAE5B;gBACA;gBACA;gBACA,KAASC,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAGvB,SAAS,CAACvB,MAAM,EAAE8C,KAAK,IAAI,CAAC,EAAE;kBAClDC,QAAQ,GAAGxB,SAAS,CAACuB,KAAK,CAAC;kBAC3BE,QAAQ,GAAGX,WAAW,CAACS,KAAK,CAAC;kBAC7BG,KAAK,GAAGD,QAAQ,CAACE,UAAU,CAACC,CAAC;kBAC7BC,KAAK,GAAGJ,QAAQ,CAACE,UAAU,CAACG,CAAC;kBACnCR,OAAO,CAACS,IAAI,CAACC,QAAQ,CAACP,QAAQ,CAACQ,UAAU,EAAE,EAAE,CAAC,CAAC;kBAC/ChB,oBAAoB,CAACc,IAAI,CAACP,QAAQ,CAAC;kBACnCN,mBAAmB,CAACa,IAAI,WAAIP,QAAQ,eAAY;kBAChDL,mBAAmB,CAACY,IAAI,WAAIP,QAAQ,UAAO;kBAC3CJ,mBAAmB,CAACW,IAAI,WAAIP,QAAQ,UAAO;kBAC3CH,cAAc,CAACU,IAAI,CAAC;oBAAEH,CAAC,EAAE7C,6CAAK,CAAC2C,KAAK,CAAC,CAACQ,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC;oBAAEJ,CAAC,EAAE/C,6CAAK,CAAC8C,KAAK,CAAC,CAACK,OAAO,CAAC,IAAI,EAAE,EAAE;kBAAE,CAAC,CAAC;gBAC/F;gBACA,IAAI,CAAC9C,uBAAuB,GAAG6B,oBAAoB;gBACnD,IAAI,CAAC3B,sBAAsB,GAAG4B,mBAAmB;gBACjD,IAAI,CAAC1B,sBAAsB,GAAG2B,mBAAmB;gBACjD,IAAI,CAACzB,sBAAsB,GAAG0B,mBAAmB;gBACjD,IAAI,CAACxB,aAAa,GAAGyB,cAAc;gBACnC,IAAI,CAACvB,aAAa,GAAGwB,OAAO;gBAC5B,IAAI,CAACpC,OAAO,GAAG,IAAI;gBAAC,iCACb,IAAI,CAACa,YAAY;cAAA;gBAAA;gBAAA;gBAAA,MAEpB,IAAI,CAACd,OAAO,KAAKnB,oBAAoB;kBAAA;kBAAA;gBAAA;gBAAA,iCAChCkB,iBAAiB,CAACmD,mBAAmB;cAAA;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAIjD;MAAA;QAAA;MAAA;MAAA;IAAA;EAAA;EAAA;AAAA;AAAA,yBA5JGnD,iBAAiB,yBAC6B;EAChDG,sBAAsB,EAAE,CACtB,0CAA0C,EAC1C,0CAA0C,EAC1C,0CAA0C,EAC1C,0CAA0C,EAC1C,0CAA0C,CAC3C;EAEDE,qBAAqB,EAAE,CACrB,mDAAmD,EACnD,mDAAmD,EACnD,mDAAmD,EACnD,mDAAmD,EACnD,mDAAmD,CACpD;EAEDE,qBAAqB,EAAE,CACrB,8CAA8C,EAC9C,8CAA8C,EAC9C,8CAA8C,EAC9C,8CAA8C,EAC9C,8CAA8C,CAC/C;EAEDE,qBAAqB,EAAE,CACrB,8CAA8C,EAC9C,8CAA8C,EAC9C,8CAA8C,EAC9C,8CAA8C,EAC9C,8CAA8C,CAC/C;EACDI,YAAY,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;EAC7BF,YAAY,EAAE,CACZ;IACEiC,CAAC,EAAE,kEAAkE;IACrEE,CAAC,EAAE;EACL,CAAC,EACD;IACEF,CAAC,EAAE,kEAAkE;IACrEE,CAAC,EAAE;EACL,CAAC,EACD;IACEF,CAAC,EAAE,kEAAkE;IACrEE,CAAC,EAAE;EACL,CAAC,EACD;IACEF,CAAC,EAAE,kEAAkE;IACrEE,CAAC,EAAE;EACL,CAAC,EACD;IACEF,CAAC,EAAE,kEAAkE;IACrEE,CAAC,EAAE;EACL,CAAC,CACF;EACD5C,OAAO,EAAE;AACX,CAAC;AAsGH,wDAAeF,iBAAiB;;ACjLH","sources":["webpack://@toruslabs/fetch-node-details-sapphire/webpack/bootstrap","webpack://@toruslabs/fetch-node-details-sapphire/webpack/runtime/compat get default export","webpack://@toruslabs/fetch-node-details-sapphire/webpack/runtime/define property getters","webpack://@toruslabs/fetch-node-details-sapphire/webpack/runtime/hasOwnProperty shorthand","webpack://@toruslabs/fetch-node-details-sapphire/webpack/runtime/make namespace object","webpack://@toruslabs/fetch-node-details-sapphire/./src/interfaces.ts","webpack://@toruslabs/fetch-node-details-sapphire/external commonjs2 \"@babel/runtime/helpers/asyncToGenerator\"","webpack://@toruslabs/fetch-node-details-sapphire/external commonjs2 \"@babel/runtime/helpers/classCallCheck\"","webpack://@toruslabs/fetch-node-details-sapphire/external commonjs2 \"@babel/runtime/helpers/createClass\"","webpack://@toruslabs/fetch-node-details-sapphire/external commonjs2 \"@babel/runtime/helpers/defineProperty\"","webpack://@toruslabs/fetch-node-details-sapphire/external commonjs2 \"@babel/runtime/regenerator\"","webpack://@toruslabs/fetch-node-details-sapphire/external commonjs2 \"@toruslabs/http-helpers\"","webpack://@toruslabs/fetch-node-details-sapphire/external commonjs2 \"json-stable-stringify\"","webpack://@toruslabs/fetch-node-details-sapphire/external commonjs2 \"loglevel\"","webpack://@toruslabs/fetch-node-details-sapphire/external commonjs2 \"web3-utils\"","webpack://@toruslabs/fetch-node-details-sapphire/./src/constants.ts","webpack://@toruslabs/fetch-node-details-sapphire/./src/utils.ts","webpack://@toruslabs/fetch-node-details-sapphire/./src/nodeDetailManager.ts","webpack://@toruslabs/fetch-node-details-sapphire/./src/index.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export interface JRPCResponse<T> {\n  id: number;\n  jsonrpc: \"2.0\";\n  result?: T;\n  error?: {\n    code: number;\n    message: string;\n    data?: unknown;\n  };\n}\n\nexport interface INodePub {\n  X: string;\n  Y: string;\n}\n\nexport interface INodeDetails {\n  torusNodeBaseEndpoints: string[];\n  torusNodeSSSEndpoints: string[];\n  torusNodeRSSEndpoints: string[];\n  torusNodeTSSEndpoints: string[];\n  torusNodePub: INodePub[];\n  torusIndexes: number[];\n  updated: boolean;\n}\n\nexport const TORUS_NETWORK = {\n  DEVNET: \"devnet\",\n  TESTNET: \"testnet\",\n  MAINNET: \"mainnet\",\n} as const;\n\nexport type TORUS_NETWORK_TYPE = typeof TORUS_NETWORK[keyof typeof TORUS_NETWORK];\n\nexport type NodeDetailManagerParams = { network?: TORUS_NETWORK_TYPE };\n\nexport type NodeDetails = {\n  address: string;\n  node_index: string;\n  public_key: {\n    X: string;\n    Y: string;\n  };\n};\n\nexport interface NodeLookupResponse {\n  nodes: NodeDetails[];\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/helpers/asyncToGenerator\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/helpers/classCallCheck\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/helpers/createClass\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/helpers/defineProperty\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/regenerator\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@toruslabs/http-helpers\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"json-stable-stringify\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"loglevel\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"web3-utils\");","import { TORUS_NETWORK } from \"./interfaces\";\n\nexport const NETWORK_URLS = {\n  [TORUS_NETWORK.DEVNET]: [\n    \"https://sapphire-dev-2-1.authnetwork.dev\",\n    \"https://sapphire-dev-2-2.authnetwork.dev\",\n    \"https://sapphire-dev-2-3.authnetwork.dev\",\n    \"https://sapphire-dev-2-4.authnetwork.dev\",\n    \"https://sapphire-dev-2-5.authnetwork.dev\",\n  ],\n  [TORUS_NETWORK.TESTNET]: [\n    \"https://lrc1.authnetwork.dev\",\n    \"https://lrc2.authnetwork.dev\",\n    \"https://lrc3.authnetwork.dev\",\n    \"https://lrc4.authnetwork.dev\",\n    \"https://lrc5.authnetwork.dev\",\n  ],\n};\n","import JsonStringify from \"json-stable-stringify\";\n\nexport const thresholdSame = <T>(arr: T[], t: number): T | undefined => {\n  const hashMap: Record<string, number> = {};\n  for (let i = 0; i < arr.length; i += 1) {\n    const str = JsonStringify(arr[i]);\n    hashMap[str] = hashMap[str] ? hashMap[str] + 1 : 1;\n    if (hashMap[str] === t) {\n      return arr[i];\n    }\n  }\n  return undefined;\n};\n","import { generateJsonRPCObject, post } from \"@toruslabs/http-helpers\";\nimport JsonStringify from \"json-stable-stringify\";\nimport log from \"loglevel\";\nimport { toHex } from \"web3-utils\";\n\nimport { NETWORK_URLS } from \"./constants\";\nimport {\n  INodeDetails,\n  INodePub,\n  JRPCResponse,\n  NodeDetailManagerParams,\n  NodeDetails,\n  NodeLookupResponse,\n  TORUS_NETWORK,\n  TORUS_NETWORK_TYPE,\n} from \"./interfaces\";\nimport { thresholdSame } from \"./utils\";\n\nclass NodeDetailManager {\n  public static NODE_DETAILS_DEVNET: INodeDetails = {\n    torusNodeBaseEndpoints: [\n      \"https://sapphire-dev-2-1.authnetwork.dev\",\n      \"https://sapphire-dev-2-2.authnetwork.dev\",\n      \"https://sapphire-dev-2-3.authnetwork.dev\",\n      \"https://sapphire-dev-2-4.authnetwork.dev\",\n      \"https://sapphire-dev-2-5.authnetwork.dev\",\n    ],\n\n    torusNodeSSSEndpoints: [\n      \"https://sapphire-dev-2-1.authnetwork.dev/sss/jrpc\",\n      \"https://sapphire-dev-2-2.authnetwork.dev/sss/jrpc\",\n      \"https://sapphire-dev-2-3.authnetwork.dev/sss/jrpc\",\n      \"https://sapphire-dev-2-4.authnetwork.dev/sss/jrpc\",\n      \"https://sapphire-dev-2-5.authnetwork.dev/sss/jrpc\",\n    ],\n\n    torusNodeRSSEndpoints: [\n      \"https://sapphire-dev-2-1.authnetwork.dev/rss\",\n      \"https://sapphire-dev-2-2.authnetwork.dev/rss\",\n      \"https://sapphire-dev-2-3.authnetwork.dev/rss\",\n      \"https://sapphire-dev-2-4.authnetwork.dev/rss\",\n      \"https://sapphire-dev-2-5.authnetwork.dev/rss\",\n    ],\n\n    torusNodeTSSEndpoints: [\n      \"https://sapphire-dev-2-1.authnetwork.dev/tss\",\n      \"https://sapphire-dev-2-2.authnetwork.dev/tss\",\n      \"https://sapphire-dev-2-3.authnetwork.dev/tss\",\n      \"https://sapphire-dev-2-4.authnetwork.dev/tss\",\n      \"https://sapphire-dev-2-5.authnetwork.dev/tss\",\n    ],\n    torusIndexes: [1, 2, 3, 4, 5],\n    torusNodePub: [\n      {\n        X: \"f74389b0a4c8d10d2a687ae575f69b20f412d41ab7f1fe6b358aa14871327247\",\n        Y: \"54e3a73098ed9bced3ef8821736e9794f9264a1420c0c7ad15d2fa617ba35ef7\",\n      },\n      {\n        X: \"bc38813a6873e526087918507c78fc3a61624670ee851ecfb4f3bef55d027b5a\",\n        Y: \"ac4b21229f662a0aefdfdac21cf17c3261a392c74a8790db218b34e3e4c1d56a\",\n      },\n      {\n        X: \"b56541684ea5fa40c8337b7688d502f0e9e092098962ad344c34e94f06d293fb\",\n        Y: \"759a998cef79d389082f9a75061a29190eec0cac99b8c25ddcf6b58569dad55c\",\n      },\n      {\n        X: \"7bcb058d4c6ffc6ba4bfdfd93d141af35a66338a62c7c27cdad2ae3f8289b767\",\n        Y: \"336ab1935e41ed4719e162587f0ab55518db4207a1eb36cc72303f1b86689d2b\",\n      },\n      {\n        X: \"bf12a136ef94399ea098f926f04e26a4ec4ac70f69cce274e8893704c4951773\",\n        Y: \"bdd44828020f52ce510e026338216ada184a6867eb4e19fb4c2d495d4a7e15e4\",\n      },\n    ],\n    updated: false,\n  };\n\n  private _torusNodeBaseEndpoints: string[] = [];\n\n  private _torusNodeRSSEndpoints: string[] = [];\n\n  private _torusNodeSSSEndpoints: string[] = [];\n\n  private _torusNodeTSSEndpoints: string[] = [];\n\n  private _torusNodePub: INodePub[] = [];\n\n  private _torusIndexes: number[] = [];\n\n  private updated: boolean;\n\n  private network: TORUS_NETWORK_TYPE;\n\n  constructor({ network = TORUS_NETWORK.DEVNET }: NodeDetailManagerParams = {}) {\n    this.network = network;\n    this.updated = false;\n  }\n\n  get _nodeDetails(): INodeDetails {\n    return {\n      torusNodeBaseEndpoints: this._torusNodeBaseEndpoints,\n      torusNodeSSSEndpoints: this._torusNodeSSSEndpoints,\n      torusNodeRSSEndpoints: this._torusNodeRSSEndpoints,\n      torusNodeTSSEndpoints: this._torusNodeTSSEndpoints,\n      torusNodePub: this._torusNodePub,\n      torusIndexes: this._torusIndexes,\n      updated: this.updated,\n    };\n  }\n\n  async getNodeDetails(): Promise<INodeDetails> {\n    try {\n      if (this.updated) return this._nodeDetails;\n\n      const endPoints = NETWORK_URLS[this.network];\n\n      const lookupPromises = endPoints.map((x) =>\n        post<JRPCResponse<NodeLookupResponse>>(x, generateJsonRPCObject(\"NodeDetailsRequest\", {})).catch((err) =>\n          log.error(\"node lookup request failed\", err)\n        )\n      );\n\n      const lookupResponses = await Promise.all<JRPCResponse<NodeLookupResponse>>(lookupPromises);\n\n      const threholdNodes = thresholdSame(\n        lookupResponses.map((resp) => JsonStringify(resp.result)),\n        ~~(endPoints.length / 2) + 1\n      );\n\n      if (!threholdNodes) {\n        throw new Error(\"Unable to reach threshold for node lookups\");\n      }\n\n      const parsedNodes = JSON.parse(threholdNodes || \"[]\") as NodeDetails[];\n\n      if (parsedNodes.length !== endPoints.length) {\n        throw new Error(`Unable to fetch info for required nodes, required: ${endPoints.length}, found: ${parsedNodes.length}`);\n      }\n      const updatedBaseEndpoints: string[] = [];\n      const updatedSSSEndpoints: string[] = [];\n      const updatedRSSEndpoints: string[] = [];\n      const updatedTSSEndpoints: string[] = [];\n      const updatedNodePub: INodePub[] = [];\n      const indexes: number[] = [];\n\n      // nodes returns node list in sorted order of node indexes\n      // currently node indexes are sorted in the order of endpoints.\n      // so looping over endpoints is fine.\n      for (let index = 0; index < endPoints.length; index += 1) {\n        const endpoint = endPoints[index];\n        const nodeInfo = parsedNodes[index];\n        const pubKx = nodeInfo.public_key.X;\n        const pubKy = nodeInfo.public_key.Y;\n        indexes.push(parseInt(nodeInfo.node_index, 10));\n        updatedBaseEndpoints.push(endpoint);\n        updatedSSSEndpoints.push(`${endpoint}/sss/jrpc`);\n        updatedRSSEndpoints.push(`${endpoint}/rss`);\n        updatedTSSEndpoints.push(`${endpoint}/tss`);\n        updatedNodePub.push({ X: toHex(pubKx).replace(\"0x\", \"\"), Y: toHex(pubKy).replace(\"0x\", \"\") });\n      }\n      this._torusNodeBaseEndpoints = updatedBaseEndpoints;\n      this._torusNodeSSSEndpoints = updatedSSSEndpoints;\n      this._torusNodeRSSEndpoints = updatedRSSEndpoints;\n      this._torusNodeTSSEndpoints = updatedTSSEndpoints;\n      this._torusNodePub = updatedNodePub;\n      this._torusIndexes = indexes;\n      this.updated = true;\n      return this._nodeDetails;\n    } catch (error) {\n      if (this.network === TORUS_NETWORK.DEVNET) {\n        return NodeDetailManager.NODE_DETAILS_DEVNET;\n      }\n      throw error;\n    }\n  }\n}\n\nexport default NodeDetailManager;\n","export * from \"./interfaces\";\nexport { default } from \"./nodeDetailManager\";\n"],"names":["TORUS_NETWORK","DEVNET","TESTNET","MAINNET","NETWORK_URLS","JsonStringify","thresholdSame","arr","t","hashMap","i","length","str","undefined","generateJsonRPCObject","post","log","toHex","NodeDetailManager","network","updated","torusNodeBaseEndpoints","_torusNodeBaseEndpoints","torusNodeSSSEndpoints","_torusNodeSSSEndpoints","torusNodeRSSEndpoints","_torusNodeRSSEndpoints","torusNodeTSSEndpoints","_torusNodeTSSEndpoints","torusNodePub","_torusNodePub","torusIndexes","_torusIndexes","_nodeDetails","endPoints","lookupPromises","map","x","catch","err","error","Promise","all","lookupResponses","threholdNodes","resp","result","Error","parsedNodes","JSON","parse","updatedBaseEndpoints","updatedSSSEndpoints","updatedRSSEndpoints","updatedTSSEndpoints","updatedNodePub","indexes","index","endpoint","nodeInfo","pubKx","public_key","X","pubKy","Y","push","parseInt","node_index","replace","NODE_DETAILS_DEVNET","default"],"sourceRoot":""}